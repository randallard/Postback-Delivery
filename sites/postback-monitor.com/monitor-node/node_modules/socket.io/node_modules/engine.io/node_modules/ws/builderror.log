In file included from ../src/bufferutil.cc:7:0:
/root/.node-gyp/0.11.9/deps/v8/include/v8.h: In member function ‘void v8::ReturnValue<T>::Set(uint32_t)’:
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:5816:31: warning: typedef ‘I’ locally defined but not used [-Wunused-local-typedefs]
   typedef internal::Internals I;
                               ^
In file included from ../src/bufferutil.cc:15:0:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: At global scope:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:518:3: error: ‘uv_work_t’ does not name a type
   uv_work_t request;
   ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: In constructor ‘NanAsyncWorker::NanAsyncWorker(NanCallback*)’:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:490:5: error: ‘request’ was not declared in this scope
     request.data = this;
     ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: At global scope:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:555:30: error: variable or field ‘NanAsyncExecute’ declared void
 inline void NanAsyncExecute (uv_work_t* req) {
                              ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:555:30: error: ‘uv_work_t’ was not declared in this scope
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:555:41: error: ‘req’ was not declared in this scope
 inline void NanAsyncExecute (uv_work_t* req) {
                                         ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:560:38: error: variable or field ‘NanAsyncExecuteComplete’ declared void
 inline void NanAsyncExecuteComplete (uv_work_t* req) {
                                      ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:560:38: error: ‘uv_work_t’ was not declared in this scope
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:560:49: error: ‘req’ was not declared in this scope
 inline void NanAsyncExecuteComplete (uv_work_t* req) {
                                                 ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: In function ‘void NanAsyncQueueWorker(NanAsyncWorker*)’:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:568:23: error: ‘uv_default_loop’ was not declared in this scope
       uv_default_loop()
                       ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:569:16: error: ‘class NanAsyncWorker’ has no member named ‘request’
     , &worker->request
                ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:570:7: error: ‘NanAsyncExecute’ was not declared in this scope
     , NanAsyncExecute
       ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:571:8: error: ‘uv_after_work_cb’ was not declared in this scope
     , (uv_after_work_cb)NanAsyncExecuteComplete
        ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:572:3: error: ‘uv_queue_work’ was not declared in this scope
   );
   ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: In function ‘bool _NanGetExternalParts(v8::Handle<v8::Value>, const char**, size_t*)’:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:716:78: error: no matching function for call to ‘v8::Local<v8::String>::New(v8::Handle<v8::String>)’
   v8::Local<v8::String> str = v8::Local<v8::String>::New(val.As<v8::String>());
                                                                              ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:716:78: note: candidates are:
In file included from ../src/bufferutil.cc:7:0:
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:381:29: note: static v8::Local<T> v8::Local<T>::New(v8::Isolate*, v8::Handle<T>) [with T = v8::String]
   V8_INLINE static Local<T> New(Isolate* isolate, Handle<T> that);
                             ^
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:381:29: note:   candidate expects 2 arguments, 1 provided
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:383:29: note: template<class M> static v8::Local<T> v8::Local<T>::New(v8::Isolate*, const v8::Persistent<T, M>&) [with M = M; T = v8::String]
   V8_INLINE static Local<T> New(Isolate* isolate,
                             ^
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:383:29: note:   template argument deduction/substitution failed:
In file included from ../src/bufferutil.cc:15:0:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:716:78: note:   cannot convert ‘val.v8::Handle<T>::As<v8::String>()’ (type ‘v8::Handle<v8::String>’) to type ‘v8::Isolate*’
   v8::Local<v8::String> str = v8::Local<v8::String>::New(val.As<v8::String>());
                                                                              ^
In file included from ../src/bufferutil.cc:7:0:
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:406:29: note: static v8::Local<T> v8::Local<T>::New(v8::Isolate*, T*) [with T = v8::String]
   V8_INLINE static Local<T> New(Isolate* isolate, T* that);
                             ^
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:406:29: note:   candidate expects 2 arguments, 1 provided
In file included from ../src/bufferutil.cc:15:0:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h: In instantiation of ‘void NanDispose(v8::Persistent<T>&) [with T = v8::Object]’:
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:498:34:   required from here
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:237:5: error: no matching function for call to ‘v8::Persistent<v8::Object, v8::NonCopyablePersistentTraits<v8::Object> >::Dispose(v8::Isolate*&)’
     handle.Dispose(nan_isolate);
     ^
/var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws/node_modules/nan/nan.h:237:5: note: candidate is:
In file included from /root/.node-gyp/0.11.9/deps/v8/include/v8stdint.h:36:0,
                 from /root/.node-gyp/0.11.9/deps/v8/include/v8.h:41,
                 from ../src/bufferutil.cc:7:
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:589:32: note: void v8::Persistent<T, M>::Dispose() [with T = v8::Object; M = v8::NonCopyablePersistentTraits<v8::Object>]
                 V8_INLINE void Dispose()) { Reset(); }
                                ^
/root/.node-gyp/0.11.9/deps/v8/include/v8config.h:333:45: note: in definition of macro ‘V8_DEPRECATED’
 # define V8_DEPRECATED(message, declarator) declarator
                                             ^
/root/.node-gyp/0.11.9/deps/v8/include/v8.h:589:32: note:   candidate expects 0 arguments, 1 provided
                 V8_INLINE void Dispose()) { Reset(); }
                                ^
/root/.node-gyp/0.11.9/deps/v8/include/v8config.h:333:45: note: in definition of macro ‘V8_DEPRECATED’
 # define V8_DEPRECATED(message, declarator) declarator
                                             ^
make: *** [Release/obj.target/bufferutil/src/bufferutil.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/root/.nvm/v0.11.9/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:267:23)
gyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:101:17)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:827:12)
gyp ERR! System Linux 3.13.0-57-generic
gyp ERR! command "node" "/root/.nvm/v0.11.9/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /var/www/postback-monitor.com/chat-example/node_modules/socket.io/node_modules/engine.io/node_modules/ws
gyp ERR! node -v v0.11.9
gyp ERR! node-gyp -v v0.12.1
gyp ERR! not ok 
